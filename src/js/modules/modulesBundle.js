export function accordion(){const triggers=document.querySelectorAll('.uvstm-accordion-trigger');const contents=document.querySelectorAll('.uvstm-accordion-content');if(triggers&&contents){triggers.forEach((el,i)=>{if(!el.hasAttribute('data-uvstm-accordion-customID')){el.setAttribute('id',`uvstm-accordion-triggerID--${i}`);el.setAttribute('aria-controls',`uvstm-accordion-contentID--${i}`)}else{let params=el.getAttribute('data-uvstm-accordion-customID').split(' ');el.setAttribute('id',params[0]);el.setAttribute('aria-controls',params[1])}})
contents.forEach((el,i)=>{if(!el.hasAttribute('data-uvstm-accordion-customID')){el.setAttribute('id',`uvstm-accordion-contentID--${i}`);el.setAttribute('aria-labeledby',`uvstm-accordion-triggerID--${i}`)}else{let params=el.getAttribute('data-uvstm-accordion-customID').split(' ');el.setAttribute('id',params[1]);el.setAttribute('aria-labeledby',params[0])}})
triggers.forEach(el=>{el.addEventListener('click',()=>{let open=el.getAttribute('aria-controls');let openEl=document.querySelector(`#${open}`);let elTBPaddings=+window.getComputedStyle(openEl,null).paddingTop.replace('px','')+ +window.getComputedStyle(openEl,null).paddingBottom.replace('px','');if(!el.classList.contains('uvstm-accordion-trigger--open')){el.classList.add('uvstm-accordion-trigger--open');openEl.classList.add('uvstm-accordion-content--open');el.setAttribute('aria-expanded',!0);openEl.setAttribute('aria-hidden',!1);openEl.style.maxHeight=openEl.scrollHeight+elTBPaddings+'px'}else{el.classList.remove('uvstm-accordion-trigger--open');openEl.classList.remove('uvstm-accordion-content--open');el.setAttribute('aria-expanded',!1);openEl.setAttribute('aria-hidden',!0);openEl.style.maxHeight=null}})})}}

export function tabs(initialActiveTab=0){const tabs=document.querySelectorAll('.uvstm-tabs');if(tabs){const allControlItems=document.querySelectorAll('.uvstm-tabs-control_item');const allContentItems=document.querySelectorAll('.uvstm-tabs-content_item');allControlItems.forEach((el,i)=>{el.setAttribute('id',`uvstm-tabs-controlID--${i}`);el.setAttribute('data-uvstm-tabs-trigger',`uvstm-tabs-contentID--${i}`);el.setAttribute('aria-controls',`uvstm-tabs-contentID--${i}`);el.setAttribute('aria-selected',!1)})
allContentItems.forEach((el,i)=>{el.setAttribute('id',`uvstm-tabs-contentID--${i}`);el.setAttribute('aria-labelledby',`uvstm-tabs-controlID--${i}`);el.setAttribute('aria-hidden',!0)})
tabs.forEach(el=>{const control=el.querySelector('.uvstm-tabs-control');const controlItems=control.querySelectorAll('.uvstm-tabs-control_item');const content=el.querySelector('.uvstm-tabs-content');const contentItems=content.querySelectorAll('.uvstm-tabs-content_item');controlItems[initialActiveTab].classList.add('uvstm-tabs-control_item--active');contentItems[initialActiveTab].classList.add('uvstm-tabs-content_item--active');controlItems[initialActiveTab].setAttribute('aria-selected',!0);contentItems[initialActiveTab].setAttribute('aria-hidden',!1);control.addEventListener('click',e=>{handler(e)})
control.addEventListener('keydown',e=>{if(e.code=='Enter'){handler(e)}})
function handler(e){const self=e.target;const controlItem=self.closest('.uvstm-tabs-control_item');const trigger=controlItem.getAttribute('data-uvstm-tabs-trigger');const contentItem=document.querySelector(`#${trigger}`);Array.from(control.children).forEach(el=>{el.classList.remove('uvstm-tabs-control_item--active');el.setAttribute('aria-selected',!1)})
Array.from(content.children).forEach(el=>{el.classList.remove('uvstm-tabs-content_item--active');el.setAttribute('aria-hidden',!0)})
controlItem.classList.add('uvstm-tabs-control_item--active');contentItem.classList.add('uvstm-tabs-content_item--active');controlItem.setAttribute('aria-selected',!0);contentItem.setAttribute('aria-hidden',!1)}})}}

export function modal(){const container=document.querySelector('.uvstm-modal-container');const triggers=document.querySelectorAll('.uvstm-modal-trigger_button');const modals=document.querySelectorAll('.uvstm-modal-container_modal');if(container&&triggers&&modals){triggers.forEach((el,i)=>{if(!el.hasAttribute('data-uvstm-modal-customID')){el.setAttribute('id',`uvstm-modal-trigger_buttonID--${i}`);el.setAttribute('data-uvstm-modal-trigger_openID',`uvstm-modal-container_modal--${i}`)}else{let params=el.getAttribute('data-uvstm-modal-customID').split(' ');el.setAttribute('id',params[0]);el.setAttribute('data-uvstm-modal-trigger_openID',params[1])}})
modals.forEach((el,i)=>{if(!el.hasAttribute('data-uvstm-modal-customID')){el.setAttribute('id',`uvstm-modal-container_modal--${i}`);el.setAttribute('aria-modal',`uvstm-modal-trigger_buttonID--${i}`);el.setAttribute('aria-labledby',`uvstm-modal-trigger_buttonID--${i}`)}else{let params=el.getAttribute('data-uvstm-modal-customID').split(' ');el.setAttribute('id',params[1]);el.setAttribute('aria-modal',params[0]);el.setAttribute('aria-labledby',params[0])}})
triggers.forEach(el=>{el.addEventListener('click',()=>{let openID=el.getAttribute('data-uvstm-modal-trigger_openID');let position=el.getAttribute('data-uvstm-modal-modalItem-position');if(position===null){position='center'}
switch(position){case 'top':{container.style.display='flex';container.style.justifyContent='flex-start';container.style.paddingTop='40px';break}
case 'center':{container.style.display='flex';break}
case 'custom':{container.style.display='block';container.style.position='absolute';break}}
modals.forEach(el=>{if(el.getAttribute('id')===openID){el.classList.add('uvstm-modal-container_modal--open');el.setAttribute('aria-hidden',!1);container.classList.add('uvstm-modal-container--open')}})})})
window.addEventListener('click',e=>{if(e.target.hasAttribute('data-uvstm-modal-container_close')){modals.forEach(el=>{el.classList.remove('uvstm-modal-container_modal--open');el.setAttribute('aria-hidden',!0);container.classList.remove('uvstm-modal-container--open')})}})}}